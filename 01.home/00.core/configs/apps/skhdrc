# Title         : skhdrc
# Author        : Bardia Samiee
# Project       : Parametric Forge
# License       : MIT
# Path          : /01.home/00.core/configs/apps/skhdrc
# ----------------------------------------------------------------------------
# Unified hotkey configuration with conflict-free hierarchy

# --- BLACKLIST: Applications that should not receive skhd hotkeys -----------
# These apps handle their own keyboard shortcuts or need full keyboard access
.blacklist [
"1Password 7"
"secure keyboard entry"
"Activity Monitor"
"System Settings"
"System Preferences"
]

# --- TIER 1: Daily Operations (80% usage - Simple & Memorable) -------------
# Window focus with intuitive arrow keys - no app conflicts
lalt - left : [
"WezTerm" ~
"Code" ~
"Visual Studio Code" ~
"IntelliJ IDEA" ~
"*" : yabai -m window --focus west
]

lalt - down : [
"WezTerm" ~
"Code" ~
"Visual Studio Code" ~
"IntelliJ IDEA" ~
"*" : yabai -m window --focus south
]

lalt - up : [
"WezTerm" ~
"Code" ~
"Visual Studio Code" ~
"IntelliJ IDEA" ~
"*" : yabai -m window --focus north
]

lalt - right : [
"WezTerm" ~
"Code" ~
"Visual Studio Code" ~
"IntelliJ IDEA" ~
"*" : yabai -m window --focus east
]

# Display focus (left option to keep right option free)
lalt - s : yabai -m display --focus west
lalt - g : yabai -m display --focus east

# Workspace navigation - stable numbers that never change
shift + ctrl + alt - 1 : yabai -m space --focus 1
shift + ctrl + alt - 2 : yabai -m space --focus 2
shift + ctrl + alt - 3 : yabai -m space --focus 3
shift + ctrl + alt - 4 : yabai -m space --focus 4
shift + ctrl + alt - 5 : yabai -m space --focus 5
shift + ctrl + alt - 6 : yabai -m space --focus 6
shift + ctrl + alt - 7 : yabai -m space --focus 7
shift + ctrl + alt - 8 : yabai -m space --focus 8
shift + ctrl + alt - 9 : yabai -m space --focus 9

# Space cycling within current display
shift + ctrl + alt - left : yabai -m space --focus prev || yabai -m space --focus last
shift + ctrl + alt - right : yabai -m space --focus next || yabai -m space --focus first

# --- TIER 2: Essential Manual Overrides (SHIFT + OPT) ---------------------
# Core toggles when you need manual control over auto-balance
# Pure global toggle with cross-tool coordination - windowed (4px) â†” full (0px) modes
shift + lalt - return : \
    if [ "$(yabai -m config top_padding)" = "0" ]; then \
        yabai -m config top_padding 4; yabai -m config bottom_padding 4; \
        yabai -m config left_padding 4; yabai -m config right_padding 4; \
        yabai -m config window_gap 4; \
        echo '{"padding":4,"gap":4,"mode":"windowed","space":1,"window":0}' >/tmp/yabai_state.json; \
    else \
        yabai -m config top_padding 0; yabai -m config bottom_padding 0; \
        yabai -m config left_padding 0; yabai -m config right_padding 0; \
        yabai -m config window_gap 0; \
        echo '{"padding":0,"gap":0,"mode":"full","space":1,"window":0}' >/tmp/yabai_state.json; \
    fi
shift + lalt - space : yabai -m window --toggle float --grid 4:4:1:1:2:2
shift + lalt - r : yabai -m space --rotate 270 # Fix layout when messy

# --- TIER 3: Power Operations (MEH = shift+ctrl+alt) ------------------------
# Move window to workspace and follow (stable workspace numbers)
shift + ctrl + alt - 1 : yabai -m window --space 1; yabai -m space --focus 1
shift + ctrl + alt - 2 : yabai -m window --space 2; yabai -m space --focus 2
shift + ctrl + alt - 3 : yabai -m window --space 3; yabai -m space --focus 3
shift + ctrl + alt - 4 : yabai -m window --space 4; yabai -m space --focus 4
shift + ctrl + alt - 5 : yabai -m window --space 5; yabai -m space --focus 5
shift + ctrl + alt - 6 : yabai -m window --space 6; yabai -m space --focus 6
shift + ctrl + alt - 7 : yabai -m window --space 7; yabai -m space --focus 7
shift + ctrl + alt - 8 : yabai -m window --space 8; yabai -m space --focus 8
shift + ctrl + alt - 9 : yabai -m window --space 9; yabai -m space --focus 9

# Right-Option (Meh leader) fast path for space moves (optional parallel binds)
ralt - 1 : yabai -m window --space 1; yabai -m space --focus 1
ralt - 2 : yabai -m window --space 2; yabai -m space --focus 2
ralt - 3 : yabai -m window --space 3; yabai -m space --focus 3
ralt - 4 : yabai -m window --space 4; yabai -m space --focus 4
ralt - 5 : yabai -m window --space 5; yabai -m space --focus 5
ralt - 6 : yabai -m window --space 6; yabai -m space --focus 6
ralt - 7 : yabai -m window --space 7; yabai -m space --focus 7
ralt - 8 : yabai -m window --space 8; yabai -m space --focus 8
ralt - 9 : yabai -m window --space 9; yabai -m space --focus 9

# Window operations - arrows for swapping, hjkl for resizing
shift + ctrl + alt - left : yabai -m window --swap west
shift + ctrl + alt - right : yabai -m window --swap east
shift + ctrl + alt - down : yabai -m window --swap south
shift + ctrl + alt - up : yabai -m window --swap north
shift + ctrl + alt - h : yabai -m window --resize left:-50:0 || yabai -m window --resize right:-50:0
shift + ctrl + alt - l : yabai -m window --resize right:50:0 || yabai -m window --resize left:50:0  
shift + ctrl + alt - j : yabai -m window --resize bottom:0:50 || yabai -m window --resize top:0:50
shift + ctrl + alt - k : yabai -m window --resize top:0:-50 || yabai -m window --resize bottom:0:-50

# Display management (fixed syntax)
shift + ctrl + alt - s : yabai -m window --display west; yabai -m display --focus west
shift + ctrl + alt - g : yabai -m window --display east; yabai -m display --focus east

# --- TIER 4: Expert Overrides (SUPER = shift+ctrl+alt+rcmd) -----------------
# Space mirroring for layout corrections
shift + ctrl + alt + rcmd - x : yabai -m space --mirror x-axis
shift + ctrl + alt + rcmd - y : yabai -m space --mirror y-axis

# --- Native macOS shortcuts work automatically with WindowManager enabled ---
# No explicit passthrough needed - removed unnecessary entries

# --- Utility Operations (Simple Keys) ---------------------------------------
# Quick navigation and space management
lalt - tab : yabai -m space --focus recent || yabai -m space --focus first

# Clean space management
cmd + alt - n : yabai -m space --create
cmd + alt - d : yabai -m space --destroy
